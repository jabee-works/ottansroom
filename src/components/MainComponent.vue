<template>
  <div id="main">
    <div class="door-container">
      <div class="door-left"></div>
      <div class="door-right"></div>
    </div>
    <div class="section top-section">
      <div class="background-image">
        <img src="../assets/ottan.webp" alt="ãŠã£ãŸã‚“ã®ç”»åƒ" class="background-image__image">
      </div>
      <div class="content">
        <h1 class="title">ãŠã£ãŸã‚“éƒ¨å±‹ğŸ¶ã€œçµ‚æ¥­å¾Œã®ç™’ã—ã€œ</h1>
        <p class="description">å›ã®ãƒ¢ãƒ³ã‚¿ã¯æ˜æ—¥ã¸ã®ãƒ¢ãƒ³ã‚¿ãƒƒğŸ«µ</p>
        <div class="button-container">
          <button class="custom-button" @click="closeDoorsAndScroll('intro')">ç´¹ä»‹</button>
          <button class="custom-button" @click="closeDoorsAndScroll('game')">éŠæˆ¯</button>
          <button class="custom-button" @click="closeDoorsAndScroll('blog')">é›‘è¨˜</button>
          <button class="custom-button" @click="closeDoorsAndScroll('qa')">è³ªç–‘</button>
        </div>
      </div>
    </div>
    <div id="intro" class="section intro-section">
      <div class="background-image-intro">
        <img src="../assets/intro-background.webp" alt="ç´¹ä»‹ã®èƒŒæ™¯ç”»åƒ" class="background-image__image-intro">
      </div>
      <div class="content">
        <h2>ç´¹ä»‹</h2>
        <p>æˆ‘ãŒåã¯ãŠã£ãŸã‚“ğŸ¶<br>å®Ÿå®¶ã‚’ç”Ÿæ¥­ã¨ã—æ€ æƒ°ã‚’æ¥µã‚ã—è€…ï¼</p>
      </div>
    </div>
    <div id="game" class="section game-section">
      <div class="background-image-game">
        <img src="../assets/game-background.webp" alt="éŠæˆ¯ã®èƒŒæ™¯ç”»åƒ" class="background-image__image-game">
      </div>
      <div class="content">
        <h2>éŠæˆ¯</h2>
        <p><a class="twitter-timeline" href="https://twitter.com/kamekame5312?ref_src=twsrc%5Etfw">Tweets by kamekame5312</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></p>
        <p>ãŠã£ãŸã‚“ã®ã‚²ãƒ¼ãƒ å®Ÿæ³ã¯<a href="https://www.twitch.tv/nanasin5555" target="_blank">ã“ã¡ã‚‰</a></p>
      </div>
    </div>
    <div id="blog" class="section blog-section">
      <div class="background-image-blog">
        <img src="../assets/blog-background.webp" alt="é›‘è¨˜ã®èƒŒæ™¯ç”»åƒ" class="background-image__image-blog">
      </div>
      <div class="content">
        <h2>é›‘è¨˜</h2>
        <p>ã“ã“ã¯é›‘è¨˜ç”¨ã®ãƒšãƒ¼ã‚¸ã§ã™ã€‚æ—¥ã€…ã®å‡ºæ¥äº‹ã‚„è€ƒãˆãŸã“ã¨ã‚’ã“ã“ã«æ›¸ãã¾ã™ã€‚</p>
      </div>
    </div>
    <div id="qa" class="section qa-section">
      <div class="background-image-qa">
        <img src="../assets/qa-background.webp" alt="è³ªç–‘ã®èƒŒæ™¯ç”»åƒ" class="background-image__image-qa">
      </div>
      <div class="content">
        <h2>è³ªç–‘</h2>
        <p>ã“ã“ã¯è³ªç–‘ç”¨ã®ãƒšãƒ¼ã‚¸ã§ã™ã€‚è³ªå•ã‚„ç–‘å•ã«ç­”ãˆã¾ã™ã€‚</p>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'MainComponent',
  methods: {
    closeDoorsAndScroll(id) {
      const doorContainer = document.querySelector('.door-container');
      doorContainer.style.display = 'flex'; // æ‰‰ã‚’å†è¡¨ç¤º
      setTimeout(() => {
        doorContainer.classList.remove('open'); // æ‰‰ã‚’é–‰ã˜ã‚‹
        setTimeout(() => {
          this.scrollToSection(id);
          setTimeout(() => {
            doorContainer.classList.add('open'); // æ‰‰ã‚’å†åº¦é–‹ã
            setTimeout(() => {
              doorContainer.style.display = 'none'; // æ‰‰ã‚’å†åº¦éè¡¨ç¤º
            }, 1500); // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³çµ‚äº†å¾Œã«æ‰‰ã‚’éè¡¨ç¤ºã«ã™ã‚‹
          }, 500); // ãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã‹ã‚‰0.5ç§’å¾Œã«æ‰‰ã‚’é–‹ã
        }, 1500); // æ‰‰ã‚’é–‰ã˜ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒçµ‚äº†ã™ã‚‹ã®ã‚’å¾…ã¤
      }, 0); // ç›´ã¡ã«æ‰‰ã‚’é–‰ã˜ã‚‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹å§‹
    },
    scrollToSection(id) {
      const element = document.getElementById(id);
      if (element) {
        window.scrollTo({ top: element.offsetTop, behavior: 'smooth' });
      }
    }
  },
  mounted() {
    setTimeout(() => {
      document.querySelector('.door-container').classList.add('open');
      setTimeout(() => {
        document.querySelector('.door-container').style.display = 'none';
      }, 1500); // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³çµ‚äº†å¾Œã«æ‰‰ã‚’éè¡¨ç¤ºã«ã™ã‚‹
    }, 500); // ãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã‹ã‚‰0.5ç§’å¾Œã«æ‰‰ã‚’é–‹ã
  }
}
</script>

<style scoped>
@import url('https://fonts.googleapis.com/css2?family=Hannari&display=swap');

#main {
  font-family: 'Hannari', serif;
  max-width: 100%;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
}

.section {
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  position: relative;
  overflow: hidden;
}

.top-section .content, .intro-section .content, .game-section .content, .blog-section .content, .qa-section .content {
  position: relative;
  z-index: 1;
  text-align: center;
  color: #333; /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è‰²ã‚’è¨­å®š */
}

.background-image, .background-image-intro, .background-image-game, .background-image-blog, .background-image-qa {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  opacity: 0.2;
  pointer-events: none; /* ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç„¡åŠ¹åŒ– */
}

.background-image__image, .background-image__image-intro, .background-image__image-game, .background-image__image-blog, .background-image__image-qa {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.title {
  font-family: 'Hannari', serif;
  font-size: 2.5em;
}

.description {
  font-size: 1.6em;
  margin-bottom: 20px;
  font-weight: bold;
}

.button-container {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
  justify-items: center;
  margin-top: 20px;
}

.custom-button {
  padding: 20px 80px;
  font-size: 2em;
  background-color: #e7cfb5;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.3s;
  font-family: Hannari, serif;
}

.custom-button:hover {
  background-color: #d1b495;
}

.intro-section h2, .game-section h2, .blog-section h2, .qa-section h2 {
  font-size: 2.5em;
  margin-bottom: 20px;
}

.intro-section p, .game-section p, .blog-section p, .qa-section p {
  font-size: 1.2em;
}

/* æ‰‰ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
.door-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  z-index: 100; /* æœ€å‰é¢ã«è¡¨ç¤º */
}

.door-left, .door-right {
  width: 50%;
  height: 100%;
  background: repeating-linear-gradient(
    30deg,
    #000, #000 3px,
    rgba(255, 255, 255, 0) 3px 28px,
    #000 28px 31px
  ),
  repeating-linear-gradient(
    -30deg,
    #000, #000 3px,
    rgba(255, 255, 255, 0) 3px 28px,
    #000 28px 31px
  ),
  repeating-linear-gradient(
    30deg,
    #fff, #fff 6px,
    rgba(255, 255, 255, 0) 6px 25px,
    #fff 25px 31px
  ),
  repeating-linear-gradient(
    -30deg,
    #fff, #fff 6px,
    rgba(255, 255, 255, 0) 6px 25px,
    #fff 25px 31px
  ),
  repeating-linear-gradient(
    30deg,
    #000, #000 7.5px,
    rgba(255, 255, 255, 0) 7.5px 23.5px,
    #000 23.5px 31px
  ),
  repeating-linear-gradient(
    -30deg,
    #000, #000 7.5px,
    rgba(255, 255, 255, 0) 7.5px 23.5px,
    #000 23.5px 31px
  ),
  repeating-linear-gradient(
    30deg,
    #fff, #fff 9px,
    rgba(255, 255, 255, 0) 9px 15px,
    #fff 15px 16px,
    rgba(255, 255, 255, 0) 16px 22px,
    #fff 22px 31px
  ),
  repeating-linear-gradient(
    -30deg,
    #fff, #fff 9px,
    rgba(255, 255, 255, 0) 9px 15px,
    #fff 15px 16px,
    rgba(255, 255, 255, 0) 16px 22px,
    #fff 22px 31px
  ),
  repeating-linear-gradient(
    30deg,
    #000, #000 15px,
    rgba(255, 255, 255, 0) 15px 16px,
    #000 16px 31px
  ),
  repeating-linear-gradient(
    -30deg,
    #000, #000 15px,
    rgba(255, 255, 255, 0) 15px 16px,
    #000 16px 31px
  );
  position: absolute;
  top: 0;
  transition: transform 1.5s ease-in-out;
}

.door-left {
  left: 0;
  transform: translateX(0);
}

.door-right {
  right: 0;
  transform: translateX(0);
}

.door-container.open .door-left {
  transform: translateX(-100%);
}

.door-container.open .door-right {
  transform: translateX(100%);
}
</style>
